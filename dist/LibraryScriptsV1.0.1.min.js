!function(){window.version="dev",console.log("Loading Custom Library Functionaltiy",location.pathname);let t=null;function e(t,e,o,n){const r=e?e.toLowerCase():null;document.querySelectorAll(t).forEach(t=>{const e=t.textContent.replace(/\s+/g," ").trim().toLowerCase();r&&!e.includes(r)||(t.innerHTML=o,"function"==typeof n&&t.addEventListener("click",n))})}function o(t,e){const o=Array.isArray(e)?e:[e];document.querySelectorAll(t).forEach(t=>{const e=t.textContent.replace(/\s+/g," ").trim().toLowerCase();o.some(t=>e.includes(t.toLowerCase()))&&(t.style.display="none")})}function n(){e("h3","Request","Place Library Order"),e("button.ant-btn-primary","submit quote","Submit order"),e(".ant-modal-body p","This option is for",""),e(".ant-modal-body p","Use the box below","Any special instructions or questions about your order?"),e(".ant-modal-body em","your cart will be","Your cart will be cleared upon submitting your order."),function(t){const e=document.querySelector(".ant-modal-body textarea.ant-input");if(!e)return;const o=Object.getPrototypeOf(e),n=Object.getOwnPropertyDescriptor(o,"value")?.set;n?n.call(e,t):e.value=t;const r=new Event("input",{bubbles:!0});e.dispatchEvent(r)}("My order is good to go.")}function r(){e("button.ant-btn.ant-btn-default.ant-btn-block","Request a school","Place Library Order",()=>setTimeout(n,50)),o("button.ant-btn-default.checkout-btn","Ship"),o("button.ant-btn-primary.checkout-btn","Pick up"),o("button.ant-btn-default.ant-btn-block","Deliver"),e(".ant-result-title span","your quote request has been submitted","<strong>Your order has been submitted.</strong><br/><br/>"),e(".ant-result-subtitle div","we will review your quote and comments","<b>IMPORTANT NOTE: Your email confirmation will label this order a &quot;Quote Request,&quot; but we will process it as an order from your library.</b>")}function a(){e("span","requested a quote","<strong>Order Type</strong> Library"),e(".ant-card-body div:not(:has(*))","requested a quote","Standard library delivery")}!function(){const t=history.pushState,e=history.replaceState;history.pushState=function(){return t.apply(this,arguments)},history.replaceState=function(){return e.apply(this,arguments)},window.addEventListener("popstate",function(){})}(),console.log("CustLibFunc: runLibTweaksForCurrentPage on",location.pathname),r(),function(){const t=document.querySelector("aside.responsiveSummary");t&&new MutationObserver(()=>{r()}).observe(t,{childList:!0,subtree:!0})}(),new MutationObserver(()=>{n()}).observe(document.body,{childList:!0,subtree:!0}),function(){if(t)return;let e=0;t=setInterval(()=>{e++;try{r()}catch(t){console.error("CustLibFunc: libraryTweak error in interval",t)}20>e||(clearInterval(t),t=null)},125)}(),location.pathname.startsWith("/account/order")&&(console.log("CustLibFunc: Order Summary Watcher Running"),function(){let t=0,e=!1;const o=setInterval(()=>{t++,a();const n=Array.from(document.querySelectorAll("span")).some(t=>{const e=t.textContent.toLowerCase();return e.includes("order type")&&e.includes("library")});!e&&40>t||clearInterval(o),n&&(e=!0)},250)}(),function(){const t=document.querySelector("aside.responsiveSummaryLeft");t&&new MutationObserver(()=>{a()}).observe(t,{childList:!0,subtree:!0})}())}();